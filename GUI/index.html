<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUI - Algoritmo de Paletização</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="GUI.css">
</head>
<body>
    <div class="gui-container">
        <!-- Logo no canto superior direito -->
        <div class="logo-container">
            <img id="company-logo" src="../images/logo.jpg" alt="Logo da Empresa">
        </div>

        <!-- Conteúdo principal -->
        <main class="main-content">
            <!-- Área de visualização (esquerda) -->
            <section class="visualization-area">
                <h2>3D Visualization</h2>
                
                <!-- Container for Three.js - this is where our 3D scene will be rendered -->
                <div id="threejs-container" class="threejs-container">
                    <!-- Loading message will be replaced by 3D canvas -->
                    <div class="threejs-loading">Initializing 3D Scene...</div>
                </div>
                
                <!-- Informações básicas -->
                <div class="info-panel">
                    <div class="info-group">
                        <span class="info-label">Boxes Placed:</span>
                        <span class="info-value" id="boxes-count">0</span>
                    </div>
                    <div class="info-group">
                        <span class="info-label">Current Height:</span>
                        <span class="info-value" id="current-height">0cm</span>
                    </div>
                    <div class="info-group">
                        <span class="info-label">Time:</span>
                        <span class="info-value" id="simulation-time">0.0s</span>
                    </div>
                </div>
            </section>

            <!-- Área de métricas (direita) -->
            <section class="metrics-area">
                <h2>Performance Metrics</h2>
                
                <!-- Distribuição de peso -->
                <div class="metric-card">
                    <h3>Weight Distribution</h3>
                    <div class="heatmap">
                        <div class="heat-grid">
                            <div class="heat-cell low"></div>
                            <div class="heat-cell medium"></div>
                            <div class="heat-cell high"></div>
                            <div class="heat-cell medium"></div>
                            <div class="heat-cell low"></div>
                            <div class="heat-cell medium"></div>
                            <div class="heat-cell high"></div>
                            <div class="heat-cell low"></div>
                            <div class="heat-cell medium"></div>
                        </div>
                        <div class="legend">
                            <span><div class="legend-dot low"></div>Low</span>
                            <span><div class="legend-dot medium"></div>Medium</span>
                            <span><div class="legend-dot high"></div>High</span>
                        </div>
                    </div>
                </div>

                <!-- Eficiência -->
                <div class="metric-card">
                    <h3>Area/Volume Efficiency</h3>
                    <div class="efficiency-chart">
                        <div class="pie-chart">
                            <div class="pie-fill"></div>
                            <div class="pie-text">75%</div>
                        </div>
                        <div class="efficiency-info">
                            <div><span class="dot occupied"></span>Occupied: 75%</div>
                            <div><span class="dot free"></span>Free: 25%</div>
                        </div>
                    </div>
                </div>

                <!-- Eficiência por camada -->
                <div class="metric-card">
                    <h3>Layer Efficiency</h3>
                    <div class="bar-chart">
                        <div class="bar-group">
                            <div class="bar" style="height: 90%;"></div>
                            <span>L1</span>
                        </div>
                        <div class="bar-group">
                            <div class="bar" style="height: 75%;"></div>
                            <span>L2</span>
                        </div>
                        <div class="bar-group">
                            <div class="bar" style="height: 60%;"></div>
                            <span>L3</span>
                        </div>
                        <div class="bar-group">
                            <div class="bar" style="height: 40%;"></div>
                            <span>L4</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Barra inferior -->
        <footer class="status-bar">
            <div class="status-group">
                <span class="status-label">Center of Mass Deviation:</span>
                <span class="status-value" id="center-mass">0.0cm</span>
            </div>
            <div class="status-group">
                <span class="status-label">Collisions:</span>
                <span class="status-value" id="collisions">0</span>
            </div>
            <div class="status-group">
                <span class="status-label">Global Efficiency:</span>
                <span class="status-value" id="global-efficiency">0.0%</span>
            </div>
        </footer>

        <!-- Rodapé -->
        <div class="footer">
            <p>Developed by INESCTEC &copy; 2025</p>
        </div>
    </div>

    <!-- Three.js Library - loaded from CDN for reliability -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- OrbitControls for camera interaction - essential for 3D navigation -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- Our custom Three.js setup - the foundation of our 3D visualization -->
    <script src="3d-viewer/js/three-setup.js"></script>
    
    <!-- Data loading system - handles parsing of palletization files -->
    <script src="3d-viewer/js/pallet-loader.js"></script>
    
    <!-- Main application controller - orchestrates all components -->
    <script src="3d-viewer/js/main.js"></script>
</body>
</html>