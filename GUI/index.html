<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUI - Algoritmo de Paletização</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="GUI.css">
    <link rel="stylesheet" href="3d-viewer/styles/3d-viewer.css">
</head>
<body>
    <div class="gui-container">
        <!-- Company logo in top right corner -->
        <div class="logo-container">
            <img id="company-logo" src="../images/logo.jpg" alt="Company Logo">
        </div>

        <!-- Main content area -->
        <main class="main-content">
            <!-- Visualization area (left side) -->
                <section class="visualization-area">
                <div class="visualization-header">
                    <h2>3D Visualization</h2>
                    <div class="inline-view-controls">
                        <button class="view-button" id="topdown-view-btn" data-view="topdown">
                            Top-Down View
                        </button>
                        <button class="view-button" id="isometric-view-btn" data-view="isometric">
                            Isometric View
                        </button>
                        <button class="view-button" id="back-view-btn" data-view="back">
                            Back View
                        </button>
                    </div>
                </div>
                
                <!-- Container for Three.js -->
                <div id="threejs-container" class="threejs-container">
                    <div class="threejs-loading">Initializing 3D Scene...</div>
                </div>
                
                <!-- Basic information panel -->
                <div class="info-panel">
                    <div class="info-group">
                        <span class="info-label">Boxes Placed:</span>
                        <span class="info-value" id="boxes-count">0</span>
                    </div>
                    <div class="info-group">
                        <span class="info-label">Current Height:</span>
                        <span class="info-value" id="current-height">0cm</span>
                    </div>
                    <div class="info-group">
                        <span class="info-label">Time:</span>
                        <span class="info-value" id="simulation-time">0.0s</span>
                    </div>
                </div>
            </section>

            <!-- Metrics area (right side) -->
            <section class="metrics-area">
                <h2>Performance Metrics</h2>
                
                <!-- Weight distribution heatmap -->
                <div class="metric-card">
                    <h3>Weight Distribution</h3>
                    <div class="heatmap">
                        <div class="heat-grid">
                            <!-- Populated by JavaScript -->
                        </div>
                        <div class="legend">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Volume efficiency chart -->
                <div class="metric-card">
                    <h3>Volume Efficiency</h3>
                    <div class="efficiency-chart">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <!-- Layer efficiency visualization -->
                <div class="metric-card">
                    <h3></h3>
                </div>
            </section>
        </main>

        <!-- Bottom status bar -->
        <footer class="status-bar">
            <!-- Back button -->
            <div class="nav-button-left">
                <button id="nav-back-btn" class="nav-button" onclick="goToPreviousPage()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 12H5"></path>
                        <path d="m12 19-7-7 7-7"></path>
                    </svg>
                </button>
            </div>

            <!-- Metrics section -->
            <div class="status-group">
                <span class="status-label">Center of Mass to Geometric Center Deviation:</span>
                <span class="status-value" id="center-mass">0.0cm</span>
            </div>
            <div class="status-group">
                <span class="status-label">Load Stability Index:</span>
                <span class="status-value" id="collisions">0</span>
            </div>
            <div class="status-group">
                <span class="status-label">Total Weight:</span>
                <span class="status-value" id="global-efficiency">0</span>
            </div>

            <!-- Advance page button -->
            <div class="nav-button-right">
                <button id="nav-forward-btn" class="nav-button" onclick="goToNextPage()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5 12h14"></path>
                        <path d="m12 5 7 7-7 7"></path>
                    </svg>
                </button>
            </div>
        </footer>

        <!-- Application footer -->
        <div class="footer">
            <p>Developed by INESCTEC &copy; 2025</p>
        </div>
    </div>

    <!-- External libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <!-- Base systems -->
    <script src="3d-viewer/js/debug-config.js"></script>
    <script src="3d-viewer/js/units-system.js"></script>

    <!-- Project libraries -->
    <script src="3d-viewer/libs/chart.min.js"></script>
    <script src="3d-viewer/libs/icon-library.js"></script>

    <!-- Application components -->
    <script src="3d-viewer/js/three-setup.js"></script>
    <script src="3d-viewer/js/pallet-loader.js"></script>
    <script src="3d-viewer/js/center-of-mass.js"></script>
    <script src="3d-viewer/js/VolumeEfficiency.js"></script>
    <script src="3d-viewer/js/bottom-metrics.js"></script>
    <script src="3d-viewer/js/weight-distribution.js"></script>
    <script src="3d-viewer/js/file-manager.js"></script>

    <!-- Main application - LOAD LAST -->
    <script src="3d-viewer/js/main.js"></script>




</body>
</html>