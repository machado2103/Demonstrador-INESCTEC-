<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUI - Palletization Algorithm</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="GUI.css">
</head>
<body>
    <div class="gui-container">
        <!-- INESCTEC logo -->
        <div class="logo-container">
            <img id="company-logo" src="../images/logo.jpg" alt="INESCTEC Logo">
        </div>

        <!-- Main app content -->
        <main class="main-content">
            <!-- Visualization area (left side) -->
            <section class="visualization-area">
                <h2>2D Visualization</h2>
                
                <div class="pallet-display">
                    <!-- Pallet (top view) -->
                    <div class="pallet-scene">
                        <div class="pallet-base"></div>
                        <div class="box-stack">
                            <!-- First row of boxes -->
                            <div class="stacked-box box-1"></div>
                            <div class="stacked-box box-2"></div>
                            <div class="stacked-box box-1"></div>
                            <div class="stacked-box box-3"></div>
                            
                            <!-- Second row of boxes -->
                            <div class="stacked-box box-2"></div>
                            <div class="stacked-box box-1"></div>
                            <div class="stacked-box box-3"></div>
                            <div class="stacked-box box-2"></div>
                            
                            <!-- Third row of boxes -->
                            <div class="stacked-box box-3"></div>
                            <div class="stacked-box box-1"></div>
                            <div class="stacked-box box-2"></div>
                            <div class="stacked-box box-1"></div>
                        </div>
                        <!-- Center of mass indicator -->
                        <div class="center-mass"></div>
                    </div>
                </div>
                
                <!-- Basic information panel -->
                <div class="info-panel">
                    <div class="info-group">
                        <span class="info-label">Boxes Placed:</span>
                        <span class="info-value" id="boxes-placed">12</span>
                    </div>
                    <div class="info-group">
                        <span class="info-label">Current Height:</span>
                        <span class="info-value" id="current-height">50cm</span>
                    </div>
                    <div class="info-group">
                        <span class="info-label">Time:</span>
                        <span class="info-value" id="execution-time">0.0s</span>
                    </div>
                </div>
            </section>

            <!-- Metrics area (right side) -->
            <section class="metrics-area">
                <h2>Performance Metrics</h2>
                
                <!-- Weight distribution heatmap -->
                <div class="metric-card">
                    <h3>Weight Distribution</h3>
                    <div class="heatmap">
                        <div class="heat-grid">
                            <div class="heat-cell low"></div>
                            <div class="heat-cell medium"></div>
                            <div class="heat-cell high"></div>
                            <div class="heat-cell medium"></div>
                            <div class="heat-cell low"></div>
                            <div class="heat-cell medium"></div>
                            <div class="heat-cell high"></div>
                            <div class="heat-cell low"></div>
                            <div class="heat-cell medium"></div>
                        </div>
                        <div class="legend">
                            <span><div class="legend-dot low"></div>Low</span>
                            <span><div class="legend-dot medium"></div>Medium</span>
                            <span><div class="legend-dot high"></div>High</span>
                        </div>
                    </div>
                </div>

                <!-- Volume efficiency pie chart -->
                <div class="metric-card">
                    <h3>Volume Efficiency</h3>
                    <div class="efficiency-chart">
                        <div class="pie-chart">
                            <div class="pie-fill"></div>
                            <div class="pie-text" id="pie-efficiency">99.7%</div>
                        </div>
                        <div class="efficiency-info">
                            <div><span class="dot occupied"></span>Occupied: <span id="occupied-percentage">99.7%</span></div>
                            <div><span class="dot free"></span>Free: <span id="free-percentage">0.3%</span></div>
                        </div>
                    </div>
                </div>

                <!-- Layer-by-layer efficiency bar chart -->
                <div class="metric-card">
                    <h3>Layer Efficiency</h3>
                    <div class="bar-chart">
                        <div class="bar-group">
                            <div class="bar" style="height: 90%;"></div>
                            <span>L1</span>
                        </div>
                        <div class="bar-group">
                            <div class="bar" style="height: 75%;"></div>
                            <span>L2</span>
                        </div>
                        <div class="bar-group">
                            <div class="bar" style="height: 60%;"></div>
                            <span>L3</span>
                        </div>
                        <div class="bar-group">
                            <div class="bar" style="height: 40%;"></div>
                            <span>L4</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Status bar with key metrics -->
        <footer class="status-bar">
            <div class="status-group">
                <span class="status-label"><strong>Center of Mass Deviation:</strong></span>
                <span class="status-value" id="mass-deviation">0.5cm</span>
            </div>
            <div class="status-group">
                <span class="status-label"><strong>Collisions:</strong></span>
                <span class="status-value" id="collisions">0</span>
            </div>
            <div class="status-group">
                <span class="status-label"><strong>Global Efficiency:</strong></span>
                <span class="status-value" id="global-efficiency">99.7%</span>
            </div>
        </footer>

        <!-- Application footer -->
        <div class="footer">
            <p>Developed by INESCTEC &copy; 2025</p>
        </div>
    </div>

        <!-- ============================================ -->
        <!-- TEMPORARY BUTTON FOR TESTING - REMOVE LATER -->
        <!-- ============================================ -->
        <div class="next-button" onclick="window.location.href='../ending_page/index.html'"></div>
        <!-- ============================================ -->
    </div>

    <script src="GUI.js"></script>
</body>
</html>